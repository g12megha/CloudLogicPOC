{
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "welcomeFile": { "type": "string", "minLength": 1 },
    "authenticationMethod": { "type": "string", "enum": ["none", "route"] },
    "sessionTimeout": { "type": "integer", "minimum": 1 },
    "pluginMetadataEndpoint": { "type": "string", "minLength": 1, "format": "relative-uri" },
    "routes": {
      "type": "array",
      "items": {
        "type": "object",
        "additionalProperties": false,
        "format": "route-rules",
        "properties": {
          "source": { "type": "string", "minLength": 1, "format": "regex" },
          "target": { "type": "string", "minLength": 1, "format": "relative-uri" },
          "destination": { "type": "string", "minLength": 1 },
          "localDir": { "type": "string", "minLength": 1 },
          "csrfProtection": { "type": "boolean" },
          "authenticationType": { "type": "string", "enum": ["xsuaa", "basic", "none"] },
          "scope": { "$ref": "scopesSchema" },
          "replace": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "pathSuffixes": {
                "type": "array",
                "items": {
                  "type": "string",
                  "minLength": 1,
                  "format": "relative-uri"
                }
              },
              "vars": {
                "type": "array",
                "items": {
                  "type": "string",
                  "minLength": 1
                }
              }
            }
          }
        },
        "required": ["source"]
      }
    },
    "destinations": {
      "type": "object",
      "format": "destinations-rules",
      "additionalProperties": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "logoutPath": { "type": "string", "minLength": 1, "format": "relative-uri" },
          "logoutMethod": { "type": "string", "enum": ["PUT", "POST", "GET"] }
        }
      }
    },
    "logout": {
      "type": "object",
      "additionalProperties": false,
      "format": "logout-rules",
      "properties": {
        "logoutEndpoint": { "type": "string", "minLength": 1, "format": "relative-uri" },
        "logoutPage": { "type": "string", "minLength": 1, "format": "uri" }
      }
    },
    "login": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "callbackEndpoint": { "type": "string", "minLength": 1, "format": "relative-uri" }
      },
      "required": ["callbackEndpoint"]
    },
    "whitelistService": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "endpoint": { "type": "string", "minLength": 1, "format": "relative-uri" }
      },
      "required": ["endpoint"]
    },
    "compression": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "enabled": { "type": "boolean" },
        "minSize": { "type": "integer", "minimum": 1 }
      }
    },
    "websockets": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "enabled": { "type": "boolean" }
      },
      "required": ["enabled"]
    }
  },
  "required": ["sessionTimeout"]
}
