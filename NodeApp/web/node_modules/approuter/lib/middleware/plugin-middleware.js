'use strict';

var prettyPrint = require('../utils/pretty-print');

module.exports = function (req, res, next) {
  if (req.method === 'GET') {
    res.writeHead(200, {
      'content-type': 'application/json'
    });
    var pluginData = req.app.get('routerConfig').plugins;
    return res.end(JSON.stringify(pluginData, prettyPrint.prettyPrintRegExp, 2));
  }
  next();
};
